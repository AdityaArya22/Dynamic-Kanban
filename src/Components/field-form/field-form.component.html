<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card p-4 shadow-lg rounded">
        <h3 class="text-center mb-4">📌 Create Your Kanban Fields</h3>

        <!-- Instead of an input, just show a text label -->
        <p class="fw-bold text-center">You can create only **one** field.</p>
      </div>
    </div>
  </div>

  <div class="mt-4">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card p-4 shadow-lg rounded">
          <h5 class="text-center mb-3">✏️ Enter Field Name</h5>

          <!-- Single Field Input -->
          <div class="mb-3">
            <input type="text" name="field" [(ngModel)]="fields[0].fieldName" class="form-control" placeholder="Enter field name">
            <button class="btn btn-outline-primary mt-2 w-100" (click)="proceedToStages(0)">➕ Add Stages</button>
          </div>

          <!-- Stages Section -->
          @if(showStages) {
            <h5 class="mt-4 text-center">📌 Stages for: <b>{{ fields[currentFieldIndex]?.fieldName }}</b></h5>

            <!-- Stage Count Input -->
            <label class="form-label">Enter Number of Stages:</label>
            <input type="number" name="stageCount" [(ngModel)]="stageCount" class="form-control">
            <button class="btn btn-secondary w-100 mt-2" (click)="setStageCount()" [disabled]="stageCount < 1">Next</button>

            <!-- Stage Name Inputs -->
            @if(stageInputVisible) {
              @for(item of fields[currentFieldIndex].stages; track $index) {
                <input type="text" name="fileds" class="form-control my-2" placeholder="Enter stage name" [(ngModel)]="fields[currentFieldIndex].stages[$index]">
              }
              <button class="btn btn-warning w-100 mt-2" (click)="saveStages()">✅ Save Stages</button>
            }
          }

          <button class="btn btn-success w-100 mt-3" (click)="saveFields()" 
            [disabled]="!allFieldsFilled() || !allStagesFilled()">💾 Save</button>
        </div>
      </div>
    </div>
  </div>
</div>
